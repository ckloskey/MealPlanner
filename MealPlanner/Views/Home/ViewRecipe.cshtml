@model MealPlanner.Models.Recipe

@{
    ViewBag.Title = "ViewRecipe";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h4>Recipe</h4>
<div>
    <hr />
    <dl>

        <dd style="font-size:3rem">
            @Html.DisplayFor(model => model.title)
        </dd>
        <p>
            @Html.ActionLink("Back", "Index")
        </p>
        <dt>
            <img src="@Html.DisplayFor(model => model.image)" style="height:15rem">
        </dt>
        <div class="col-lg-6">
            <h4>
                Ingredients
            </h4>
            @foreach (var item in Model.Ingredients)
            {
                var displayAmount = "";
                var x = item.Amount - Math.Truncate(item.Amount);
                var y = (item.Amount - x).ToString();
                if (item.Amount < 1)
                {
                    y = "";
                }
                if (x == .5)
                {
                    displayAmount = y + " " + "1/2";
                }
                else if ((x < .3) && (x > .15))
                {
                    displayAmount = y + " " + "1/4";
                }
                else if ((x > .5) && (item.Amount < .74))
                {
                    displayAmount = y + " " + "2/3";
                }
                else if ((x > .25) && (item.Amount < .5))
                {
                    displayAmount = y + " " + "1/3";
                }
                else if (x >= .74)
                {
                    displayAmount = y + " " + "3/4";
                }
                else if ((x < .25) && x > 0)
                {
                    displayAmount = y + " " + "1/8";
                }else if(x == 0)
                {
                    displayAmount = y;
                }

        <dl class="dl-vertical">
            <dd>
                @if (item.Unit == null)
    {
            @displayAmount @*@Html.DisplayFor(modelItem => item.Amount)*@
}
else
{
            @displayAmount @:&nbsp;@Html.DisplayFor(modelItem => item.Unit)
}

                @Html.DisplayFor(model => item.IngredientName)

            </dd>
        </dl>
}
        </div>


        <div class=" col-md-6">
            <h4>
                Instructions
            </h4>
            @foreach (var item in Model.RecipeSteps)
            {
                <dl class="dl-vertical">
                    <dd>
                        @Html.DisplayFor(model => item.StepNumber).
                        @Html.DisplayFor(modelItem => item.StepDescription)
                    </dd>

                </dl>

            }
    </dl>
</div>
<p>
    @Html.ActionLink("Back", "Index")
</p>


</div>


